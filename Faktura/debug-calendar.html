<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ› Debug kalendÃ¡Å™e</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body { padding: 20px; background: white; }
        .debug-section { margin: 20px 0; padding: 20px; border: 2px solid #007bff; position: relative; }
        .debug-log { background: #f8f9fa; padding: 10px; margin: 10px 0; border-left: 4px solid #007bff; }
    </style>
</head>
<body>
    <h1>ğŸ—“ï¸ Debug kalendÃ¡Å™e</h1>
    <div id="debug-log" class="debug-log">
        <strong>Debug log:</strong><br>
        <div id="log-content"></div>
    </div>

    <div class="debug-section">
        <h3>Test 1: ZÃ¡kladnÃ­ kalendÃ¡Å™ (jednoduchÃ½)</h3>
        <div class="date-input-wrapper">
            <div contenteditable="true" id="simple-date" class="form-control form-control-short date-input" 
                 data-placeholder="klik zde" style="cursor: pointer; border: 2px solid red;">
                14.8.2025
            </div>
        </div>
        <div id="simple-calendar" class="custom-calendar hidden" style="border: 3px solid red;">
            KALENDÃÅ˜ SE NAÄŒÃTÃ...
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Debug log
        function logDebug(message) {
            const log = document.getElementById('log-content');
            log.innerHTML += message + '<br>';
            console.log(message);
        }

        logDebug('âœ… StrÃ¡nka naÄtena');
        logDebug('ğŸ“¦ formatDate funkce dostupnÃ¡: ' + (typeof formatDate !== 'undefined'));
        logDebug('ğŸ“¦ AppState dostupnÃ½: ' + (typeof AppState !== 'undefined'));

        // JednoduchÃ½ test kalendÃ¡Å™e
        document.getElementById('simple-date').addEventListener('click', function(e) {
            logDebug('ğŸ–±ï¸ KLIK na pole detekovÃ¡n!');
            
            const calendar = document.getElementById('simple-calendar');
            logDebug('ğŸ“… KalendÃ¡Å™ element nalezen: ' + !!calendar);
            
            if (calendar) {
                // JednoduchÃ© zobrazenÃ­
                if (calendar.classList.contains('hidden')) {
                    calendar.classList.remove('hidden');
                    calendar.innerHTML = `
                        <div style="padding: 20px; background: white;">
                            <h4>âœ… KALENDÃÅ˜ FUNGUJE!</h4>
                            <p>Dnes: ${new Date().toLocaleDateString('cs-CZ')}</p>
                            <button onclick="selectToday()">Vybrat dnes</button>
                            <button onclick="closeCalendar()">ZavÅ™Ã­t</button>
                        </div>
                    `;
                    logDebug('ğŸ“… KalendÃ¡Å™ zobrazen');
                } else {
                    calendar.classList.add('hidden');
                    logDebug('ğŸ“… KalendÃ¡Å™ skryt');
                }
            }
        });

        window.selectToday = function() {
            const field = document.getElementById('simple-date');
            const today = new Date();
            const formatted = today.toLocaleDateString('cs-CZ', {
                day: 'numeric', month: 'numeric', year: 'numeric'
            });
            field.innerHTML = formatted;
            logDebug('ğŸ“… Datum nastaveno na: ' + formatted);
            closeCalendar();
        };

        window.closeCalendar = function() {
            document.getElementById('simple-calendar').classList.add('hidden');
            logDebug('ğŸ“… KalendÃ¡Å™ zavÅ™en');
        };
    </script>
</body>
</html>